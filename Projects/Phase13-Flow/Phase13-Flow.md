<div dir="rtl" align='justify'>

# فاز سیزده: مسیریابی و شار

در این فاز با تکنیک‌های مربوط به مسیریابی بین دو راس مختلف گراف و پیدا کردن شار موجود بین آن‌ها آشنا می‌شوید. همچنین قرار است از دو الگوریتم پرکاربرد BFS و MaxFlow در پروژه استفاده کنید.
<br>
دو مفهوم مسیریابی و شار، کاربرد گسترده‌ای در حوزه مالی دارند، به‌ویژه در مسائلی مثل پول‌شویی.

<br>

## ۱- پول‌شویی
به فرآیندی که شخص یا تیمی سعی می‌کند طی آن پولی را که از روش‌های غیرقانونی کسب شده، وارد چرخه مالی قانونی کند و بتواند بدون مشکل از آن پول استفاده کند، پول‌شویی می‌گویند. لطفا دقایقی وقت گذاشته و با مراجعه به لینک ویکی‌پدیا به طور کامل‌تر با این پدیده‌ آشنا شوید. آشنایی بهتر، به شما کمک می‌کند تا بهتر بتوانید خواسته‌های این فاز را پیاده‌سازی کنید.
- [لینک ویکی‌پدیا](https://fa.wikipedia.org/wiki/%D9%BE%D9%88%D9%84%E2%80%8C%D8%B4%D9%88%DB%8C%DB%8C)

فعلا این پدیده‌ را گوشه ذهنتان داشته باشید تا پایین‌تر، از کاربرد گراف در پیدا کردن آن لذت ببریم.

<br>

## ۲- مسیریابی
در دنیای تحلیل ‌داده بسیار و بسیار لازم می‌شود در زمان‌های مختلف تمامی مسیرهای موجود بین دو راس گراف را پیدا کنیم. مثال‌های بسیار زیادی در این حوزه وجود دارند.
<br>
ما با کاربرد مسیریابی، در تراکنش‌های مالی بین دو حساب مختلف کار داریم. حالتی که از حساب A به طور مستقیم به حساب B پول واریز می‌شود
 یا از حساب A به حساب C می‌رود و سپس وارد حساب B می‌شود و یا به همین ترتیب واسطه‌های بیشتری بین دو حساب مطلوب ما وجود داشته باشد.
لزوما پول‌های واریزی از A به C با از C به B برابر نیستند و وجود داشتن تراکنش مهم است. طول مسیر ممکن است بیشتر باشد و گاهی لازم شود تمام مسیرهای موجود به طول ۵ را بین دو راس پیدا کنیم.

<p align="center" style="width:70% text-align:center;" ><img src="path.jpg" alt="Logo"  align="cneter"  style="center"></p>

<br>

## ۳- پیاده‌سازی مسیریابی
در این قسمت از پلتفرم، کاربر با وارد کردن عدد x از ما می‌خواهد تا تمامی مسیرهای بین دو راس خواسته شده به طول
 <b>حداکثر</b>
  x را پیداکنیم. اما چگونه باید این خواسته را برآورده‌کنیم؟
<br>
ما در فاز یازدهم با پیدا کردن همسایه‌های یک راس و گسترش دادن آن آشنا شدیم. حالا برای پیاده‌سازی مسیریابی لازم است مراحلی را که در فاز یازدهم طی کردیم، توسعه ‌دهیم. یعنی اگر بخواهیم مسیرهای بین A و B را پیدا کنیم باید از یکی از آن دو راس شروع کنیم، سپس تمامی همسایه‌های آن راس را پیدا کنیم، بعد تمامی همسایه‌های آن همسایه را پیدا کنیم و همین‌طور یکی‌یکی پیش برویم تا به راس مقصد برسیم.
<br>
معمولا مسیرهای با طول بیشتر از ۷ از نظر تحلیلی ارزشی ندارند و از طرفی هم به محاسبه سنگینی محتاج هستند.  پس لازم است اجازه وارد کردن مقادیر بزرگتر را به کاربر ندهیم.

<br>

###  مهم‌ترین قدم کار و الگوریتم BFS
برای پیدا‌ کردن مسیرهای موجود بین دو راس گراف، الگوریتم‌های مختلفی وجود دارد.  با توجه به نیاز پروژه ما بهترین الگوریتم برای پیدا کردن کوتاه‌ترین مسیر بین دو راس مختلف، الگوریتم BFS است. در این الگوریتم شما از راس مبدا شروع می‌کنید و نزدیک‌ترین مسیر به راس مقصد را پیدا می‌کنید.
سایت‌های بسیار زیادی برای آموزش ‌‌BFS موجود هستند. ویکی‌پدیا هم توضیح قابل قبولی برای این الگوریتم ارائه داده‌است.
- [لینک ویکی‌پدیا](https://en.wikipedia.org/wiki/Breadth-first_search)

توجه کنید که کاربر با وارد کردن یک عدد مثل ۵ از شما می‌خواهد تمامی مسیرهای به طول حداکثر ۵ را پیدا‌کنید. از طرفی شما هم محدودیت عدد ۷ را برای برنامه در نظر گرفتید. پس ممکن است در بعضی از مواقع هیچ مسیری پیدا نشود.
<br>
نیفتادن در دور یکی از چالش‌هایی است که هنگام پیاده‌سازی این الگوریتم باید به آن توجه داشته‌باشید.
<br>
در پایان پیاده‌سازی مسیریابی بعد از این که کاربر راس مبدا و مقصد را مشخص و تمام مسیرهایی موجود به طول معینی را درخواست کرد، روی بوم گراف، این مسیرها به او نشان‌‌داده خواهد شد.

<br>

## ۴- شار و کاربرد آن در پیدا کردن پول‌شویی
پس از پیاده‌سازی بخش دوم این داک، کاربر چیزی شبیه به عکس زیر را روی بوم گراف مشاهده خواهد کرد. لطفا لحظاتی روی این عکس تمرکز کنید. اعداد روی لینک‌ها فرضا میلیارد تومان است.

<p align="center" style="width:70% text-align:center;" ><img src="flowPATH.png" alt="Logo"  align="cneter"  style="center"></p>

این گراف به دست‌ آمده، تمامی مسیرهای موجود بین دو حساب A و H را به ما نشان‌ می‌دهد. ما برای مطلع شدن از الگوی غیرمعمولی در این گراف نیاز داریم تا بدانیم چه مقدار از کل ورودی‌های حساب H از 
طریق A فراهم شده. 
مثلا فرض کنید کل ورودی حساب H در یک سال اخیر ۵۰۰ میلیارد است. همچنین می‌دانیم که این حساب متعلق به یک شرکت تولیدی است. پس از به کارگیری تحلیل متوجه می‌شویم که ۴۰۰ میلیارد از این ورودی فقط از حساب A فراهم شده‌است. 
به دست آوردن عدد ورودی حساب H که از حساب A حاصل شده و این‌قدر بزرگ است، هشدار یک فرآیند غیرمعمولی را می‌دهد و تحلیل‌گر را به انجام تحقیقات بیشتر ترغیب می‌کند.

<br>

###  مهم‌ترین قدم کار و الگوریتم MaxFlow
<b>برای به دست آوردن این عدد، از الگوریتم بی‌نظیر MaxFlow کمک می‌گیریم
و آن را روی گراف به دست آمده از بخش قبل پیاده می‌کنیم.</b>
<br>
سایت‌های متعددی به آموزش این الگوریتم پرداخته‌اند. افزون‌ بر این سایت‌ها توصیه می‌کنم سری هم به YouTube بزنید تا بهتر با این الگوریتم آشنا شوید. یکی از معروف‌ترین کاربردهای MaxFlow در پیدا کردن بیشینه جریان عبوری از یک مسیر لوله‌کشی آب است که عموما در آموزش‌ها از همین مثال استفاده می‌کنند.
